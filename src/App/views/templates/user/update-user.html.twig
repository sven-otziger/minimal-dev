<!DOCTYPE html>
<html lang="en">
<head>
    <title>Profile</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>{{ source('main.css') }}</style>
</head>


<style>

    .update-form label {
        display: inline-block;
        width: 150px;
        margin-bottom: 10px;
    }

    .update-form input[type='text'] {
        width: 200px;
    }

</style>

<body>

{% if isForeignProfile %}
    {{ include('partial_view/_navbar.html.twig', {username: currentUser}) }}
{% else %}
    {{ include('partial_view/_navbar.html.twig', {username: user.username}) }}
{% endif %}


<div class="container update-form">
    <div class="row mt-5 temp-height">
        <div class="col p-5 temp-bg">
            {% if not isForeignUser or
                ( isForeignProfile and permissions.r_other_users and permissions.u_other_users and permissions.d_other_users) %}
            <form action="/update" method="post" name="update-user">
                <input type="hidden" value="{{ user.id }}" name="id">

                <label for="username">Username</label>
                <input type="text" value="{{ user.username }}" id="username" name="username">
                <br>

                <label for="password">Password</label>
                <input type="text" value="{{ user.password }}" id="password" name="password">
                <br><br>

                <label for="age">Age</label>
                <input type="text" value="{{ user.age }}" id="age" name="age">
                <br><br>

                <label for="street">Street</label>
                <input type="text" value="{{ user.street }}" id="street" name="street">
                <br>

                <label for="zip_code">Zip</label>
                <input type="text" value="{{ user.zip_code }}" id="zip_code" name="zip_code">
                <br>

                <label for="house_number">House number</label>
                <input type="text" value="{{ user.house_number }}" id="house_number" name="house_number">
                <br>

                <label for="city">City</label>
                <input type="text" value="{{ user.city }}" id="city" name="city">
                <br>

                <input type="submit" value="Update" name="submit" class="mt-2">
            </form>

            {% if isForeignProfile %}
                <form action="/profile/{{ user.id }}" method="post" name="cancel" class="mt-2">
            {% else %}
                <form action="/profile" method="post" name="cancel" class="mt-2">
            {% endif %}
                    <input type="submit" value="Cancel">
                </form>

                {% if message %}
                    <p class="mt-5"><i class="fa-solid fa-info"></i> {{ message }}</p>
                {% endif %}
            {% else %}
                <p>Your account is not authorized to update other accounts' data.</p>
                <form action="/profile/{{ user.id }}" method="post" class="mt-2">
                    <input type="submit" value="Main Menu">
                </form>
            {% endif %}
        </div>
    </div>
</div>


{{ include('partial_view/_footer.html.twig') }}

<script src="https://kit.fontawesome.com/a41dcf7e67.js" crossorigin="anonymous"></script>
</body>
</html>